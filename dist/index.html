<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Tabela FIPE</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <style>
        *{font-family:"Share Tech Mono",monospace;font-size:22px;padding:0;margin:0;box-sizing:border-box;text-align:center}select{background-color:transparent;width:50%;cursor:pointer;padding:5px;text-transform:uppercase}.container{display:flex;align-items:center;flex-direction:column;background:linear-gradient(snow,#fff);height:100vh;padding-top:50px}#result{border:1px solid gray;width:50%;padding:30px}#result p:last-of-type{padding-top:10px;font-size:30px;font-weight:700}button[name=reset]{padding:10px;margin-top:10px;-webkit-box-shadow:-8px 7px 5px 0 rgba(0,0,0,.75);-moz-box-shadow:-8px 7px 5px 0 rgba(0,0,0,.75);box-shadow:-8px 7px 5px 0 rgba(0,0,0,.75);cursor:pointer}h1{font-size:200%}
    </style>
</head>
<body><div class="container"><h1>CONSULTA TABELA FIPE</h1> <select name="tipos-veiculo" id="tiposVeiculo"><option value="none" selected disabled >Escolha o tipo de ve√≠culo</option><option value="carros">Carro</option><option value="motos">Moto</option><option value="caminhoes">Caminh√£o</option> </select> <select hidden name="marcas-veiculo" id="marcasVeiculo"><option value="none" selected disabled >Selecione a marca do ve√≠culo</option> </select> <select hidden name="modelos-veiculo" id="modelosVeiculo"><option value="none" selected disabled >Selecione a modelo do ve√≠culo</option> </select> <select hidden name="ano-veiculo" id="anoVeiculo"><option value="none" selected disabled >Selecione o ano do ve√≠culo</option> </select><div hidden id="result"></div> <button hidden name="reset">NOVA CONSULTA</button></div></body>
<script>console.log('https://github.com/Igor-ifrs/consulta-fipe'); baseUrl="https://parallelum.com.br/fipe/api/v1/",tiposVeiculo=document.getElementById("tiposVeiculo"),marcasVeiculo=document.getElementById("marcasVeiculo"),modelosVeiculo=document.getElementById("modelosVeiculo"),anoVeiculo=document.getElementById("anoVeiculo"),result=document.getElementById("result"),btnReset=document.getElementsByName("reset")[0];async function chamadaFipeApi(e){if(self.fetch)try{const o=await fetch(e);if(200===o.status){return await o.json()}}catch(e){return console.log(e.message),null}else alert("Seu navegador n√£o da suporte a este site üí©")}tiposVeiculo.addEventListener("change",async function(){this.disabled=!0,(await chamadaFipeApi(baseUrl+this.value+"/marcas")).map(function(e){const o=document.createElement("option");o.value=e.codigo,o.innerHTML=e.nome,marcasVeiculo.appendChild(o)}),marcasVeiculo.hidden=!1}),marcasVeiculo.addEventListener("change",async function(){this.disabled=!0,(await chamadaFipeApi(baseUrl+tiposVeiculo.value+"/marcas/"+this.value+"/modelos")).modelos.map(function(e){const o=document.createElement("option");o.value=e.codigo,o.innerHTML=e.nome,modelosVeiculo.appendChild(o)}),modelosVeiculo.hidden=!1}),modelosVeiculo.addEventListener("change",async function(){this.disabled=!0,(await chamadaFipeApi(baseUrl+tiposVeiculo.value+"/marcas/"+marcasVeiculo.value+"/modelos/"+this.value+"/anos")).map(function(e){const o=document.createElement("option");o.value=e.codigo,o.innerHTML=e.nome,anoVeiculo.appendChild(o)}),anoVeiculo.hidden=!1}),anoVeiculo.addEventListener("change",async function(){this.disabled=!0;const e=await chamadaFipeApi(baseUrl+tiposVeiculo.value+"/marcas/"+marcasVeiculo.value+"/modelos/"+modelosVeiculo.value+"/anos/"+this.value);result.innerHTML=`\n  <p>Modelo : ${e.Modelo}</p>\n  <p>Ano fabrica√ß√£o : ${e.AnoModelo}</p>\n  <p>Cod. FIPE : ${e.CodigoFipe}</p>\n  <p>Combust√≠vel : ${e.Combustivel}</p>\n  <p>Fabricante : ${e.Marca}</p>\n  <p>Refer√™ncia : ${e.MesReferencia}</p>\n  <p>Valor : ${e.Valor}</p>   \n`,result.hidden=!1,btnReset.hidden=!1}),btnReset.addEventListener("click",function(){tiposVeiculo.disabled=!tiposVeiculo.disabled,tiposVeiculo.value="none",marcasVeiculo.innerHTML='<option value="none" selected disabled >Selecione a marca do ve√≠culo</option>',modelosVeiculo.innerHTML='<option value="none" selected disabled >Selecione o modelo do ve√≠culo</option>',anoVeiculo.innerHTML='<option value="none" selected disabled >Selecione o ano do ve√≠culo</option>',marcasVeiculo.hidden=!marcasVeiculo.hidden,marcasVeiculo.disabled=!marcasVeiculo.disabled,modelosVeiculo.disabled=!modelosVeiculo.disabled,modelosVeiculo.hidden=!modelosVeiculo.hidden,anoVeiculo.disabled=!anoVeiculo.disabled,anoVeiculo.hidden=!anoVeiculo.hidden,result.hidden=!result.hidden,btnReset.hidden=!btnReset.hidden});</script>
</html>